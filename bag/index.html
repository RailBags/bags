<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rail Bags - Premium Bag Store</title>
    <style>
        /* Global Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background-color: #f4f4f4;
            color: #333;
            padding-top: 70px;
            overflow-x: hidden;
        }

        /* Header - Sticky */
        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: rgba(5, 10, 32, 0.8);
            color: white;
            padding: 15px 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 9999;
        }

        .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 90%;
            margin: auto;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo-text {
            font-size: 24px;
            font-weight: bold;
            text-decoration: none;
            background: linear-gradient(120deg, #B053A3, #502ab9);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            color: transparent;
        }

        nav {
            display: flex;
            gap: 20px;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-weight: bold;
            font-size: 16px;
            padding: 10px 15px;
            transition: color 0.3s ease, background 0.3s ease;
        }

        nav a:hover {
            background: rgba(80, 42, 185, 0.6);
            border-radius: 5px;
            color: #fff;
        }

        .menu-toggle {
            display: none;
            font-size: 28px;
            cursor: pointer;
            color: white;
        }

        /* Page Sections */
        .page {
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        /* Home Section */
        #home {
            background: linear-gradient(120deg, #ff758c, #ff7eb3);
            color: white;
            text-align: center;
        }

        #home h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            animation: fadeIn 1s ease forwards;
        }

        #home p {
            font-size: 1.2rem;
            max-width: 700px;
            margin-bottom: 30px;
            animation: fadeIn 1s ease forwards;
        }

        .cta-button {
            background: linear-gradient(120deg, #B053A3, #502ab9);
            color: #fff;
            border: none;
            padding: 15px 30px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            animation: pulse 2s infinite;
        }

        .cta-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        /* About Section */
        #about {
            background: #fff;
            color: #333;
            text-align: center;
        }

        #about h2 {
            font-size: 2.5rem;
            margin-bottom: 40px;
            color: #502ab9;
        }

        #about p {
            max-width: 800px;
            margin: 0 auto 30px;
            line-height: 1.8;
            font-size: 1.1rem;
        }

        /* Product Grid Section */
        #products {
            padding: 60px 20px;
            background: #f4f4f4;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .product-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
            max-height: 70vh;
            overflow-y: auto;
        }

        .product {
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.4s ease;
            width: 300px;
            text-align: center;
            position: relative;
            perspective: 1000px; /* 3D effect perspective */
        }

        .product:hover {
            transform: scale(1.05) rotateY(5deg);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .product img {
            width: 120px;
            height: 120px;
            object-fit: cover;
            border-bottom: 1px solid #eee;
            transition: transform 0.5s ease;
        }

        .product:hover img {
            transform: scale(1.1) rotateY(10deg);
        }

        .product h3 {
            font-size: 1.3rem;
            margin: 20px 0 10px;
            color: #333;
        }

        .product p {
            font-size: 1rem;
            color: #777;
            margin: 10px 0;
        }

        .price-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 15px 0;
        }

        .price {
            font-size: 1.2rem;
            font-weight: bold;
        }

        .product .order-button {
            background-image: url('https://img.icons8.com/ios-filled/50/000000/shopping-cart.png');
            background-size: cover;
            border: none;
            width: 40px;
            height: 40px;
            cursor: pointer;
            margin: 15px auto;
            position: relative;
            animation: pulse 1s infinite;
            z-index: 10;
        }

        /* Hover Effect for button */
        .product .order-button:hover {
            background-color: rgba(80, 42, 185, 0.7);
            transform: scale(1.1);
            transition: all 0.3s ease;
        }

        /* Contact Section */
        #contact {
            background: rgba(5, 10, 32, 0.8);
            color: white;
            padding: 60px 20px;
            text-align: center;
        }

        #contact h2 {
            font-size: 2.5rem;
            margin-bottom: 30px;
        }

        .contact-info {
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        .contact-info a {
            color: #B053A3;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .contact-info a:hover {
            color: #502ab9;
        }

        /* Popup Overlay */
        .popup-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }

        /* Popup */
        .popup {
            display: none;
            position: fixed;
            top: 70px;
            left: 50%;
            transform: translate(-50%, 0) scale(0.9);
            background: #fff;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
            width: 90%;
            max-width: 450px;
            z-index: 1001;
            animation: popIn 0.4s forwards;
        }

        .popup h2 {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: #502ab9;
            text-align: center;
        }

        .image-gallery {
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            width: 100%;
            padding: 10px 0;
            position: relative;
        }

        .image-gallery img {
            width: 150px;
            height: 150px;
            border-radius: 10px;
            transition: transform 0.5s ease;
        }

        .gallery-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.8);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            height: 40px;
            width: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
        }

        #prev-button {
            left: 10px;
        }

        #next-button {
            right: 10px;
        }

        /* Order Form Page */
        .order-form-page {
            display: none;
            position: fixed;
            top: 70px;
            left: 50%;
            transform: translate(-50%, 0);
            background: #fff;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
            width: 90%;
            max-width: 500px;
            max-height: 80vh; /* Allow for scrolling */
            overflow-y: auto; /* Add scrollbar for scrolling */
            z-index: 1002;
            animation: slideInRight 0.5s forwards;
        }

        .order-form-page h2 {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: #502ab9;
            text-align: center;
        }

        .order-form-page h3 {
            text-align: center;
            margin-bottom: 15px;
            color: #333;
        }

        .order-form-page label {
            display: block;
            margin: 15px 0 8px;
            font-weight: 600;
            color: #555;
        }

        .order-form-page input {
            width: 100%;
            padding: 12px 15px;
            margin-bottom: 5px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .order-form-page input:focus {
            border-color: #502ab9;
            outline: none;
            box-shadow: 0 0 0 3px rgba(80, 42, 185, 0.2);
        }

        .order-form-page .buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }

        .order-form-page button {
            background: linear-gradient(120deg, #B053A3, #502ab9);
            color: #fff;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            flex: 1;
            margin: 0 5px;
        }

        .order-form-page button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(80, 42, 185, 0.3);
        }

        .order-form-page button.back {
            background: #6c757d;
        }

        .order-form-page button.back:hover {
            background: #5a6268;
        }

        /* Price Options */
        .price-options {
            margin: 15px 0;
        }

        .price-option {
            display: flex;
            align-items: center;
            margin: 10px 0;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .price-option:hover {
            border-color: #502ab9;
        }

        .price-option.selected {
            background-color: rgba(80, 42, 185, 0.1);
            border-color: #502ab9;
        }

        .price-option input[type="radio"] {
            margin-right: 10px;
        }

        .price-label {
            font-weight: bold;
            margin-right: 10px;
        }

        .price-amount {
            color: #502ab9;
            font-weight: bold;
        }

        /* Wholesale Fields */
        #wholesale-fields {
            display: none;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }

        /* Styled Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-thumb {
            background: #B053A3;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #502ab9;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideInRight {
            from { opacity: 0; transform: translate(-50%, 0) translateX(100%); }
            to { opacity: 1; transform: translate(-50%, 0); }
        }

        @keyframes popIn {
            0% { opacity: 0; transform: translate(-50%, 0) scale(0.8); }
            70% { opacity: 1; transform: translate(-50%, 0) scale(1.05); }
            100% { opacity: 1; transform: translate(-50%, 0) scale(1); }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Touch Animation Effect */
        .touch-animation {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: rgba(80, 42, 185, 0.5);
            pointer-events: none;
            transform: scale(1);
            animation: touch 0.4s forwards ease;
        }

        @keyframes touch {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(5); opacity: 0; }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .menu-toggle {
                display: block;
            }

            nav {
                display: none;
                flex-direction: column;
                background: rgba(5, 10, 32, 0.8);
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                text-align: center;
                padding: 20px 0;
            }

            nav.active {
                display: flex;
            }

            nav a {
                display: block;
                padding: 15px;
                font-size: 18px;
            }

            #home h1 {
                font-size: 2.2rem;
            }

            #home p {
                font-size: 1rem;
            }

            .product {
                width: 100%;
                max-width: 350px;
            }

            .price-container {
                flex-direction: column;
                gap: 10px;
            }

            .popup, .order-form-page {
                max-height: 80vh;
                overflow-y: auto;
            }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="logo-container">
                <div class="logo-placeholder" style="width: 40px; height: 40px; background: #502ab9; border-radius: 5px;"></div>
                <a href="#" class="logo-text">Rail Bags</a>
            </div>
            <span class="menu-toggle">☰</span>
            <nav>
                <a href="#home" class="nav-link">Home</a>
                <a href="#about" class="nav-link">About</a>
                <a href="#products" class="nav-link">Products</a>
                <a href="#contact" class="nav-link">Contact</a>
            </nav>
        </div>
    </header>

    <!-- Home Section -->
    <section id="home" class="page">
        <h1>Welcome to Rail Bags</h1>
        <p>Discover our premium collection of stylish and durable bags at wholesale and retail prices. Perfect for every occasion and need.</p>
        <a href="#about" class="cta-button">Explore More</a>
    </section>

    <!-- About Section -->
    <section id="about" class="page">
        <h2>About Rail Bags</h2>
        <p>Rail Bags is your premier destination for high-quality bags at competitive prices. We specialize in offering both wholesale and retail options to meet all your needs. Our products are crafted with attention to detail and durability, ensuring you get the best value for your money.</p>
        <p>Whether you're looking for a stylish handbag, a professional backpack, or a casual tote, we have something for everyone. Our wholesale prices make us the perfect partner for retailers and businesses, while our retail prices offer great deals to individual customers.</p>
        <p>At Rail Bags, we believe in quality, affordability, and excellent customer service. Browse our collection today and find the perfect bag for your needs!</p>
    </section>

    <!-- Products Section -->
    <section id="products" class="page">
        <h2>Our Products</h2>
        <div class="product-grid">
            <div class="product">
                <img src="https://mywork.aanandkoiri.com.np/wp-content/uploads/2025/03/me2.png" alt="Stylish Handbag">
                <h3>Stylish Handbag</h3>
                <p>Premium quality handbag with multiple compartments and elegant design</p>
                <div class="price-container">
                    <div class="price retail-price">Retail: ₹100</div>
                    <div class="price wholesale-price">Wholesale: ₹70</div>
                </div>
                <button class="order-button" data-name="Stylish Handbag" data-retail="₹1,499" data-wholesale="₹1,199" data-image="https://mywork.aanandkoiri.com.np/wp-content/uploads/2025/03/me2.png"></button>
            </div>
            <div class="product">
                <img src="https://mywork.aanandkoiri.com.np/wp-content/uploads/2025/03/pngkit_code-png_2146836-1-1024x594.png" alt="Leather Backpack">
                <h3>Leather Backpack</h3>
                <p>Genuine leather backpack for professionals with laptop compartment</p>
                <div class="price-container">
                    <div class="price retail-price">Retail: ₹100</div>
                    <div class="price wholesale-price">Wholesale: ₹70</div>
                </div>
                <button class="order-button" data-name="Leather Backpack" data-retail="₹2,299" data-wholesale="₹1,899" data-image="https://mywork.aanandkoiri.com.np/wp-content/uploads/2025/03/pngkit_code-png_2146836-1-1024x594.png"></button>
            </div>
            <div class="product">
                <img src="https://mywork.aanandkoiri.com.np/wp-content/uploads/2025/03/Discord-AI-1024x577.jpg" alt="Casual Tote Bag">
                <h3>Casual Tote Bag</h3>
                <p>Lightweight and spacious tote for everyday use with reinforced handles</p>
                <div class="price-container">
                    <div class="price retail-price">Retail: ₹100</div>
                    <div class="price wholesale-price">Wholesale: ₹70</div>
                </div>
                <button class="order-button" data-name="Casual Tote Bag" data-retail="₹999" data-wholesale="₹799" data-image="https://mywork.aanandkoiri.com.np/wp-content/uploads/2025/03/Discord-AI-1024x577.jpg"></button>
            </div>
            <div class="product">
                <img src="https://mywork.aanandkoiri.com.np/wp-content/uploads/2025/03/bag1.png" alt="Travel Duffle Bag">
                <h3>Travel Duffle Bag</h3>
                <p>Durable duffle bag perfect for weekend getaways and travel</p>
                <div class="price-container">
                    <div class="price retail-price">Retail: ₹100</div>
                    <div class="price wholesale-price">Wholesale: ₹70</div>
                </div>
                <button class="order-button" data-name="Travel Duffle Bag" data-retail="₹1,199" data-wholesale="₹999" data-image="https://mywork.aanandkoiri.com.np/wp-content/uploads/2025/03/bag1.png"></button>
            </div>
            <div class="product">
                <img src="https://mywork.aanandkoiri.com.np/wp-content/uploads/2025/03/bag2.png" alt="Gym Bag">
                <h3>Gym Bag</h3>
                <p>Stylish gym bag with separate compartment for shoes</p>
                <div class="price-container">
                    <div class="price retail-price">Retail: ₹100</div>
                    <div class="price wholesale-price">Wholesale: ₹70</div>
                </div>
                <button class="order-button" data-name="Gym Bag" data-retail="₹799" data-wholesale="₹599" data-image="https://mywork.aanandkoiri.com.np/wp-content/uploads/2025/03/bag2.png"></button>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="page">
        <h2>Contact Us</h2>
        <div class="contact-info">
            <p>Have questions or want to place a bulk order?</p>
            <p>Call or WhatsApp us at: <a href="tel:9600214700">9600214700</a> or <a href="tel:8608419517">86084 19517</a></p>
        </div>
    </section>

    <!-- Popup Overlay -->
    <div class="popup-overlay" id="popup-overlay"></div>

    <!-- Product Selection Popup -->
    <div class="popup" id="popup">
        <h2>Product Details</h2>
        <div id="selected-product-info">
            <h3 id="popup-product-name"></h3>
            <div class="image-gallery">
                <button class="gallery-button" id="prev-button"><</button>
                <img id="gallery-image" src="" alt="Product Image">
                <button class="gallery-button" id="next-button">></button>
            </div>
            
            <div class="price-options">
                <h4>Select Price Option:</h4>
                <label class="price-option" id="retail-option">
                    <input type="radio" name="price-type" value="retail" checked>
                    <span class="price-label">Retail Price:</span>
                    <span class="price-amount" id="retail-price-display"></span>
                </label>
                <label class="price-option" id="wholesale-option">
                    <input type="radio" name="price-type" value="wholesale">
                    <span class="price-label">Wholesale Price:</span>
                    <span class="price-amount" id="wholesale-price-display"></span>
                </label>
            </div>
            
            <div class="buttons">
                <button id="order-details-button">
                    <i class="fas fa-shopping-cart"></i> Order Details
                </button>
                <button class="close" onclick="closePopup()">
                    <i class="fas fa-times"></i> Close
                </button>
            </div>
        </div>
    </div>

    <!-- Order Form Page -->
    <div class="order-form-page" id="order-form-page">
        <h2>Order Form</h2>
        <h3 id="order-product-name"></h3>

        <div class="price-options">
            <h4>Selected Price Option:</h4>
            <div class="price-option selected">
                <span class="price-label" id="order-price-label">Retail Price:</span>
                <span class="price-amount" id="order-price-display"></span>
            </div>
        </div>
        
        <form id="order-form">
            <label for="order-name">Full Name:</label>
            <input type="text" id="order-name" placeholder="Enter your full name" required>
            
            <label for="order-phone">WhatsApp Number:</label>
            <input type="tel" id="order-phone" placeholder="Enter your WhatsApp number" required>

            <!-- Conditional Fields -->
            <div id="wholesale-fields">
                <label for="order-bags">Number of Bags:</label>
                <input type="number" id="order-bags" placeholder="Enter number of bags">
                
                <label for="order-address">Delivery Address:</label>
                <input type="text" id="order-address" placeholder="Enter your complete address">
                
                <label for="order-pincode">Pincode:</label>
                <input type="text" id="order-pincode" placeholder="Enter your area pincode">
            </div>

            <div class="buttons">
                <button type="button" id="submit-order-button">
                    <i class="fas fa-paper-plane"></i> Submit Order
                </button>
                <button type="button" class="back" id="back-to-product">
                    <i class="fas fa-arrow-left"></i> Back
                </button>
            </div>
        </form>
    </div>

    <!-- Footer -->
    <footer>
        <p>© 2025 Rail Bags | Premium Bag Store</p>
    </footer>

    <script>
        // Touch animation effect
        document.body.addEventListener('mousemove', function(e) {
            const touchAnimation = document.createElement('span');
            touchAnimation.className = 'touch-animation';
            touchAnimation.style.left = e.pageX + 'px';
            touchAnimation.style.top = e.pageY + 'px';
            document.body.appendChild(touchAnimation);
            setTimeout(() => {
                touchAnimation.remove();
            }, 1000);
        });

        // Mobile menu toggle
        document.querySelector(".menu-toggle").addEventListener("click", function() {
            document.querySelector("nav").classList.toggle("active");
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('nav a, .cta-button').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                document.querySelector('#' + targetId).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Product data
        let selectedProduct = { 
            name: "", 
            retailPrice: "", 
            wholesalePrice: "",
            images: [],
            selectedPriceType: "retail",
            currentImageIndex: 0
        };

        // Set up order buttons
        document.querySelectorAll('.order-button').forEach(button => {
            button.addEventListener('click', function() {
                const name = this.getAttribute('data-name');
                const retailPrice = this.getAttribute('data-retail');
                const wholesalePrice = this.getAttribute('data-wholesale');
                const image = this.getAttribute('data-image');

                // Define additional images for the product
                const images = [
                    image,
                    'https://mywork.aanandkoiri.com.np/wp-content/uploads/2025/03/me2.png',
                    'https://mywork.aanandkoiri.com.np/wp-content/uploads/2025/03/pngkit_code-png_2146836-1-1024x594.png'
                ];

                openProductPopup(name, retailPrice, wholesalePrice, images);
            });
        });

        // Open Product Popup with image gallery
        function openProductPopup(name, retailPrice, wholesalePrice, images) {
            selectedProduct = { 
                name, 
                retailPrice, 
                wholesalePrice, 
                images,
                selectedPriceType: "retail",
                currentImageIndex: 0
            };

            // Update popup content
            document.getElementById("popup-product-name").textContent = name;
            document.getElementById("retail-price-display").textContent = retailPrice;
            document.getElementById("wholesale-price-display").textContent = wholesalePrice;

            // Show initial image in gallery
            updateGalleryImage();

            // Show popup
            document.getElementById("popup").style.display = "block";
            document.getElementById("popup-overlay").style.display = "block";
            document.body.style.overflow = "hidden";
        }

        // Update the gallery image
        function updateGalleryImage() {
            const imageElement = document.getElementById("gallery-image");
            imageElement.src = selectedProduct.images[selectedProduct.currentImageIndex];
        }

        // Change image on button click
        document.getElementById("prev-button").addEventListener("click", function() {
            selectedProduct.currentImageIndex = (selectedProduct.currentImageIndex - 1 + selectedProduct.images.length) % selectedProduct.images.length;
            updateGalleryImage();
        });

        document.getElementById("next-button").addEventListener("click", function() {
            selectedProduct.currentImageIndex = (selectedProduct.currentImageIndex + 1) % selectedProduct.images.length;
            updateGalleryImage();
        });

        // Price selection handling
        document.querySelectorAll('.price-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.price-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                this.classList.add('selected');
                const selectedValue = this.querySelector('input').value;
                selectedProduct.selectedPriceType = selectedValue;

                // Toggle the visibility of wholesale fields
                const wholesaleFields = document.getElementById('wholesale-fields');
                if (selectedValue === 'wholesale') {
                    wholesaleFields.style.display = 'block';
                    document.getElementById('order-bags').required = true;
                    document.getElementById('order-address').required = true;
                    document.getElementById('order-pincode').required = true;
                } else {
                    wholesaleFields.style.display = 'none';
                    document.getElementById('order-bags').required = false;
                    document.getElementById('order-address').required = false;
                    document.getElementById('order-pincode').required = false;
                }
            });
        });

        // Close Popup
        function closePopup() {
            document.getElementById("popup").style.display = "none";
            document.getElementById("popup-overlay").style.display = "none";
            document.body.style.overflow = "auto";
        }

        // Close popup when clicking on overlay
        document.getElementById("popup-overlay").addEventListener("click", function() {
            if (document.getElementById("order-form-page").style.display === "block") {
                closeOrderForm();
            } else {
                closePopup();
            }
        });

        // Open Order Form
        document.getElementById("order-details-button").addEventListener("click", function() {
            document.getElementById("popup").style.display = "none";
            document.getElementById("order-product-name").textContent = selectedProduct.name;

            const priceLabel = selectedProduct.selectedPriceType === 'retail' ? 'Retail Price:' : 'Wholesale Price:';
            const priceDisplay = selectedProduct.selectedPriceType === 'retail' ? selectedProduct.retailPrice : selectedProduct.wholesalePrice;
            
            document.getElementById("order-price-label").textContent = priceLabel;
            document.getElementById("order-price-display").textContent = priceDisplay;
            
            document.getElementById("order-form-page").style.display = "block";
        });

        // Back to Product button
        document.getElementById("back-to-product").addEventListener("click", function() {
            closeOrderForm();
            document.getElementById("popup").style.display = "block";
        });

        // Close Order Form
        function closeOrderForm() {
            document.getElementById("order-form-page").style.display = "none";
            document.getElementById("order-form").reset();
            document.getElementById('wholesale-fields').style.display = 'none';
        }

        // Submit Order
        document.getElementById("submit-order-button").addEventListener("click", function() {
            const name = document.getElementById("order-name").value.trim();
            const phone = document.getElementById("order-phone").value.trim();
            const priceType = selectedProduct.selectedPriceType;
            const selectedPrice = priceType === 'retail' ? selectedProduct.retailPrice : selectedProduct.wholesalePrice;

            if (!name || !phone) {
                alert("Please fill all the required details!");
                return;
            }

            if (!/^\d{10}$/.test(phone)) {
                alert("Please enter a valid 10-digit phone number");
                return;
            }

            let message = `*New Order - Rail Bags*%0A%0A`;
            message += `*Product Name:* ${selectedProduct.name}%0A`;
            message += `*Price Option:* ${priceType}%0A`;
            message += `*Price:* ${selectedPrice}%0A`;
            message += `%0A*Customer Details:*%0A`;
            message += `*Name:* ${name}%0A`;
            message += `*Phone:* ${phone}%0A`;

            if (priceType === 'wholesale') {
                const bags = document.getElementById("order-bags").value.trim();
                const address = document.getElementById("order-address").value.trim();
                const pincode = document.getElementById("order-pincode").value.trim();

                if (!bags || !address || !pincode) {
                    alert("Please fill all wholesale details!");
                    return;
                }

                if (!/^\d+$/.test(bags)) {
                    alert("Please enter a valid number of bags");
                    return;
                }

                if (!/^\d{6}$/.test(pincode)) {
                    alert("Please enter a valid 6-digit pincode");
                    return;
                }

                message += `*Number of Bags:* ${bags}%0A`;
                message += `*Delivery Address:* ${address}%0A`;
                message += `*Pincode:* ${pincode}%0A`;
            }

            message += `%0A*Order Time:* ${new Date().toLocaleString()}`;
            const whatsappNumber = "9600214700";
            window.open(`https://wa.me/${whatsappNumber}?text=${message}`, "_blank");
            
            closeOrderForm();
            closePopup();
            alert("Thank you for your order! We've opened WhatsApp for you to confirm your order.");
        });
    </script>
</body>
</html>